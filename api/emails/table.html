{{define "table"}}
<table class="table" style="margin: 0 -8px; width: 100%;">
    <thead>
        <tr style="font-weight: bold; color: #1a202c">
            <td>Proizvod</td>
            <td>Cijena</td>
            <td>kom.</td>
        </tr>
    </thead>
    <tbody>
        {{range .Cart}}
        <tr>
            <td>
                <a href="https://amadeus2.hr/{{.URL}}">{{.Name}}</a>
            </td>
            <td style="white-space: nowrap; height: 40px;">
            {{if .HasReduction}}
                <div>
                    <span style="text-decoration: line-through;">{{call $.FormatPrice .Price 1.0}}</span><br>
                    <strong>{{call $.FormatPrice (call $.ProductPrice .) 1.0}}</strong>
                </div>
            {{else}}
                <strong>{{call $.FormatPrice .Price 1.0}}</strong>
            {{end}}
            </td>
            <td style="text-align: center;">{{.Quantity}}</td>
        </tr>
        {{end}}
    </tbody>
</table>
<table class="table-sm" style="margin: 8px -2px;">
    <tbody>
        <tr>
            <td>Proizvodi:</td>
            <td>{{call $.FormatPrice (call $.TotalPrice .Cart .Installments false .Data.Coupon false) 0.75}}</td>
        </tr>
        <tr>
            <td>PDV:</td>
            <td>{{call $.FormatPrice (call $.TotalPrice .Cart .Installments false .Data.Coupon false) 0.25}}</td>
        </tr>
        {{if gt .Installments 0}}
            {{if lt .Installments 13}}
            <tr>
                <td>Rate (2-12):</td>
                <td>{{call $.FormatPrice (call $.TotalPrice .Cart .Installments false .Data.Coupon false) 0.08}}</td>
            </tr>
            {{else}}
            <tr>
                <td>Rate (13-24):</td>
                <td>{{call $.FormatPrice (call $.TotalPrice .Cart .Installments false .Data.Coupon false) 0.1}}</td>
            </tr>
            {{end}}
        {{end}}
        {{if $.CheckCoupon}}
            <tr>
                <td>Kupon:</td>
                <td>-{{call $.GetCoupon (call $.TotalPrice .Cart .Installments true .Data.Coupon false) .Data.Coupon}}</td>
            </tr>
        {{end}}
        <tr>
            <td>Dostava:</td>
            <td>{{call $.FormatPrice 0 1.0}}</td>
        </tr>
        <tr style="font-weight: bold;">
            <td>Ukupno:</td>
            <td>{{call $.FormatPrice (call $.TotalPrice .Cart .Installments true .Data.Coupon true) 1.0}}</td>
        </tr>
    </tbody>
</table>
{{end}}
